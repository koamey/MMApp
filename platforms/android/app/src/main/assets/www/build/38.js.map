{"version":3,"sources":["../../src/pages/dashboard-checkout/dashboard-checkout.module.ts","../../src/pages/dashboard-checkout/dashboard-checkout.ts"],"names":[],"mappings":"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","file":"38.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DashboardCheckoutPage } from './dashboard-checkout';\n\n@NgModule({\n  declarations: [\n    DashboardCheckoutPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DashboardCheckoutPage),\n  ],\n})\n\nexport class DashboardCheckoutPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dashboard-checkout/dashboard-checkout.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform, AlertController } from 'ionic-angular';\nimport { APIService } from '../../services/api_service';\nimport { UtilService } from '../../services/util_service';\n\n/**\n * Generated class for the DashboardCheckoutPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-dashboard-checkout',\n  templateUrl: 'dashboard-checkout.html',\n})\nexport class DashboardCheckoutPage {\n  dataarr = {\n    lunch: 'Lunch ',\n    dinner: 'Dinner',\n    CGST: 'CGST',\n    IGST: 'IGST',\n    Tax: 'Tax (GST)',\n    Total: 'Total'\n\n  }\n  tokendata\n  type\n  customer_id\n  date\n  customer_name\n  mobile_number\n  email\n  quantity\n  total1\n  total2\n  total3\n  tax\n  Total\n  data\n  quantity1\n  quantity2\n  cgst\n  igst\n  CGST\n  IGST\n  conmessage\n  lunchPreference\n  dinnerPreference\n  reference_id\n  renew\n  lunch: boolean = true\n  dinner: boolean = true\n  checkoutArr\n  amount: string;\n  payment_id\n  customer_subscription_id\n  mealtype\n  // total\n  subdisable:boolean\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private apiService: APIService,\n    public alertCtrl: AlertController,\n    private util: UtilService,\n    public platform: Platform) {\n      let backAction = platform.registerBackButtonAction(() => {\n        //localStorage.removeItem('subscription_id')\n        //this.navCtrl.pop();\n        this.Back();\n        backAction();\n      }, 2)\n  }\n\n  ngOnInit() {\n    this.subdisable=true;\n    this.tokendata = localStorage.getItem('token');\n    this.customer_id = localStorage.getItem('id');\n    this.date = localStorage.getItem('date');\n    this.util.showLoader();\n    this.apiService.checkoutdetail(this.tokendata, this.customer_id, this.date).then((res) => {\n      this.util.hideLoader();\n      if (res['success']) {\n        this.subdisable=false;\n      this.checkoutArr = res['data']\n      this.CGST = parseFloat(res['CGST']) + parseFloat(res['IGST']);\n      //this.CGST=parseFloat\n      // this.CGST =res['CGST'];\n      this.IGST = res['IGST']\n      // this.tax = CGST + IGST\n      this.total3 = res['total'];\n     // this.Total= res['total'];\n      this.Total=parseFloat(this.total3).toFixed(2);\n      localStorage.setItem('guestmealtotal', this.Total); \n      this.amount = String(this.Total);\n      this.amount = this.amount.replace('.', '');\n      this.mobile_number = this.checkoutArr[0].mobile_number;\n      this.email = this.checkoutArr[0].email;\n      }\n      else{\n        this.conmessage = res['message'];\n        this.showConfirmAlert1();\n      }\n    }, (res) => {\n      this.conmessage = \"Something's wrong, let's try again?\";\n      this.showConfirmAlert1();\n\t\t});\n\n\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad DashboardCheckoutPage');\n  }\n\n\n  Back() {\n    this.navCtrl.setRoot('OrderGuestMealPage');\n  }\n\n  onclickslidepay() {\n   //rzp_live_AAPrMXQhJP49GU\n    //rzp_test_uZ1iWGWR9vDDSM // old //rzp_test_1DP5mmOlF5G5ag //rzp_test_zTdGNuEfmCHtil\n    //rzp_test_e1wp9DFMzylCAL // new test key\n    var options = {\n      description: '',\n      image: '',\n      currency: 'INR',\n      key: 'rzp_test_zTdGNuEfmCHtil',\n      amount: this.amount,\n      name: 'Mummy Meals',\n      prefill: {\n        email: this.email,\n        contact: this.mobile_number,\n        name: this.customer_name\n      },\n      theme: {\n        color: '#f8b13f'\n      },\n      modal: {\n        ondismiss: function () {\n          //alert('dismissed')\n        }\n      }\n    };\n\n    var successCallback = (payment_id) => {\n      localStorage.setItem('payment_id', payment_id);    \n      // this.successpayment();  \n      document.getElementById('buttonhidden').click();\n    };\n    var cancelCallback = (error) => {\n      document.getElementById('buttonhiddencancle').click();\n    };\n\n    RazorpayCheckout.open(options, successCallback.bind(this), cancelCallback.bind(this));\n\n  }\n  buttonhidecancle() {\n    localStorage.setItem('payemntfailedguest', '1');\n    this.navCtrl.setRoot('PaymentfailedPage');\n  }\n\n  buttonhide() {\n      this.successpayment();\n  }\n  successpayment(){\n\n    ///\n    // this.lunchPreference = '';\n    // this.dinnerPreference = '';\n    // this.renew=\"\";\n    // this.reference_id=\"\";\n    // this.CGST=\"\";\n    // this.IGST=\"\";\n    // this.type=\"guest\";\n    // localStorage.setItem('failedstatus',this.type);\n    // this.mealtype =  localStorage.getItem('guestmealtypefailed');\n    // this.apiService.checkIfapifailed(this.Total,this.mealtype,this.date,this.type,this.lunchPreference,this.dinnerPreference, this.CGST, this.IGST, this.renew, this.reference_id).then((res) => {\n    //     if(res['success'])\n    //     {\n    //         localStorage.removeItem('mynum1');\n    //         localStorage.removeItem('mynum2');\n    //         localStorage.removeItem('date');\n    //         localStorage.setItem('customer_payement_status', 'success');\n    //         this.navCtrl.setRoot('GuestPaymentSuccessfulPage');\n    //     }\n    //     else{\n    //       this.conmessage = res['message'];\n    //       this.showConfirmAlert();\n    //     }\n    \n    // }).catch((res) => {\n    //   this.conmessage = res['message'];\n    //   this.showConfirmAlert();\n    // });\n    ///\n    var payment_status = 'success';\n    this.payment_id = localStorage.getItem('payment_id'); \n    this.customer_subscription_id = localStorage.getItem('customer_subscription_id');\n    this.util.showLoader();    \n    this.type=\"guest\";\n    localStorage.setItem('failedstatus',this.type);\n    this.apiService.guestmeal_payment(this.customer_subscription_id,this.customer_id, this.payment_id, payment_status, this.Total, this.date).then((res) => {\n      this.util.hideLoader();\n      if (res['success']) {  \n        localStorage.removeItem('mynum1');\n        localStorage.removeItem('mynum2');\n        localStorage.removeItem('date');\n        localStorage.setItem('customer_payement_status', 'success');\n        this.navCtrl.setRoot('GuestPaymentSuccessfulPage');\n      }\n      else {\n        //  this.conmessage = res['message'];\n\t\t\t  // this.showConfirmAlert();\n        this.lunchPreference = '';\n        this.dinnerPreference = '';\n        this.renew=\"\";\n        this.reference_id=\"\";\n        this.CGST=\"\";\n        this.IGST=\"\";\n        this.type=\"guest\";\n        localStorage.setItem('failedstatus',this.type);\n        this.mealtype =  localStorage.getItem('guestmealtypefailed');\n        this.apiService.checkIfapifailed(this.Total,this.mealtype,this.date,this.type,this.lunchPreference,this.dinnerPreference, this.CGST, this.IGST, this.renew, this.reference_id).then((res) => {\n            if(res['success'])\n            {\n                localStorage.removeItem('mynum1');\n                localStorage.removeItem('mynum2');\n                localStorage.removeItem('date');\n                localStorage.setItem('customer_payement_status', 'success');\n                this.navCtrl.setRoot('GuestPaymentSuccessfulPage');\n            }\n            else{\n              this.conmessage = res['message'];\n              this.showConfirmAlert();\n            }\n        \n        }).catch((err) => {\n          this.conmessage = err['message'];\n          this.showConfirmAlert();\n        });        \n      }\n      }).catch((err) => {\n        this.tokendata = localStorage.getItem('token');\n        this.customer_id = localStorage.getItem('id');\n        this.payment_id = localStorage.getItem('payment_id');\n        this.type = 'guest';\n        localStorage.setItem('failedstatus',this.type);\n        this.apiService.payementfail(this.customer_id,this.type,this.tokendata,this.payment_id,this.amount).then((res) => {\n          this.navCtrl.setRoot('PaymentfailedPage');\n      }).catch((err) => {\n          RazorpayCheckout.close();\n          this.navCtrl.setRoot('PaymentfailedPage');\n      });\n        RazorpayCheckout.close();     \n        localStorage.setItem('payemntfailedguest', '1');\n        this.navCtrl.setRoot('PaymentfailedPage');\n      });\n  }\n  onclickslidepaydummy() {\n    this.payment_id = 131222; \n    localStorage.setItem('payment_id',this.payment_id); \n    this.successpayment();\n  }\n\n  async showConfirmAlert() {\n\t\tlet alertConfirm = this.alertCtrl.create({\n\t\t  //header: 'Download Successfully',\n\t\t  enableBackdropDismiss: false,\n\t\t  message: this.conmessage,\n\t\t  buttons: [\n\t\t\t{\n\t\t\t  text: \"Try again\",\n\t\t\t  handler: () => {\n\t\t\t\t  this.navCtrl.setRoot('DashboardPage');\n\t\t\t  }\t\t\t  \n\t\t\t}\n\t\t  ]\n\t\t});\n\t\t(await alertConfirm).present();\n  }\n  async showConfirmAlert1() {\n\t\tlet alertConfirm = this.alertCtrl.create({\n\t\t  //header: 'Download Successfully',\n\t\t  enableBackdropDismiss: false,\n\t\t  message: this.conmessage,\n\t\t  buttons: [\n\t\t\t{\n\t\t\t  text: \"Try again\",\n\t\t\t  handler: () => {\n\t\t\t\t  this.navCtrl.setRoot('DashboardCheckoutPage');\n\t\t\t  }\t\t\t  \n\t\t\t}\n\t\t  ]\n\t\t});\n\t\t(await alertConfirm).present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dashboard-checkout/dashboard-checkout.ts"],"sourceRoot":""}