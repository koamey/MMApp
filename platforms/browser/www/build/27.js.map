{"version":3,"sources":["../../src/pages/ordering/cart/cart.module.ts","../../src/pages/ordering/cart/cart.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAyC;AACO;AACd;AACoB;AACgB;AAYtE;IAAA;IAA6B,CAAC;IAAjB,cAAc;QAV1B,+DAAQ,CAAC;YACT,YAAY,EAAE;gBACb,uDAAQ;aACR;YACD,OAAO,EAAE;gBACR,sEAAe,CAAC,QAAQ,CAAC,uDAAQ,CAAC;gBAClC,oFAAmB;gBACnB,4EAAe,CAAC,QAAQ,EAAE;aAC1B;SACD,CAAC;OACW,cAAc,CAAG;IAAD,qBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBa;AACM;AACa;AACF;AAEzD;;GAEG;AAKH;IAIE,kBACU,IAAiB,EACjB,OAAsB,EACtB,UAAsB;QAHhC,iBAUC;QATS,SAAI,GAAJ,IAAI,CAAa;QACjB,YAAO,GAAP,OAAO,CAAe;QACtB,eAAU,GAAV,UAAU,CAAY;QALzB,aAAQ,GAAG,KAAK,CAAC;QAOtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC7B,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAC,CAAC;YAC3B,KAAI,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;IAC/C,CAAC;IAED,mCAAgB,GAAhB;QACE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpC,CAAC;IAED,+BAAY,GAAZ,UAAa,IAAI;QACf,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;IACvD,CAAC;IAED,+BAAY,GAAZ,UAAa,IAAI;QACf,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC;QACD,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;QACvD,CAAC;IACH,CAAC;IAED,iCAAc,GAAd;QACE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;IACpC,CAAC;IAED,4BAAS,GAAT;QACE,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI;YACtB,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACpD,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;IA3CU,QAAQ;QAHpB,gEAAS,CAAC;WACe;SACzB,CAAC;iFAM2B;YACR,2EAAa;YACV,KAAU;OAPrB,QAAQ,CA4CpB;IAAD,CAAC;AAAA;SA5CY,QAAQ,e","file":"27.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CartPage } from './cart';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { EcurrencyPipeModule } from '../../../pipes/ecurrency.module';\n\n@NgModule({\n\tdeclarations: [\n\t\tCartPage\n\t],\n\timports: [\n\t\tIonicPageModule.forChild(CartPage),\n\t\tEcurrencyPipeModule,\n\t\tTranslateModule.forChild()\n\t]\n})\nexport class CartPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ordering/cart/cart.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController} from 'ionic-angular';\nimport {CartService} from '../../../services/cart_service';\nimport {APIService} from '../../../services/api_service';\n\n/**\n * Cart page component\n */\n@IonicPage()\n@Component({\n  templateUrl: 'cart.html'\n})\nexport class CartPage {\n  public items;\n  public loggedIn = false;\n\n  constructor(\n    private cart: CartService,\n    private navCtrl: NavController,\n    private apiService: APIService\n  ) {\n    this.items = cart.getItems();\n    cart.itemsCount$.subscribe((v) => {\n      this.items == cart.getItems();\n    });\n    this.loggedIn = this.apiService.isLoggedIn();\n  }\n\n  ionViewWillEnter() {\n    this.items = this.cart.getItems();\n  }\n\n  increaseCart(item): any {\n    this.cart.setItemCount(item.product, item.count + 1);\n  }\n\n  decreaseCart(item): any {\n    if (item.count == 1) {\n      this.cart.removeItem(item);\n    }\n    else {\n      this.cart.setItemCount(item.product, item.count - 1);\n    }\n  }\n\n  showOrderModal() {\n    this.navCtrl.setRoot('OrderPage');\n  }\n\n  cartPrice() {\n    let result = 0;\n    this.items.forEach((item) => {\n      result = result + item.product.price * item.count;\n    });\n    return result;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ordering/cart/cart.ts"],"sourceRoot":""}