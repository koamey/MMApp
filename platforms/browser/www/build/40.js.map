{"version":3,"sources":["../../src/pages/chooseplan/chooseplan.module.ts","../../src/pages/chooseplan/chooseplan.ts"],"names":[],"mappings":"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","file":"40.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChooseplanPage } from './chooseplan';\n\n@NgModule({\n  declarations: [\n    ChooseplanPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChooseplanPage),\n  ],\n})\nexport class ChooseplanPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chooseplan/chooseplan.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform, ViewController, IonicApp, AlertController } from 'ionic-angular';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\nimport { Storage } from '@ionic/storage';\nimport { TranslateService } from '@ngx-translate/core';\nimport { APIService } from '../../services/api_service';\nimport { UtilService } from '../../services/util_service';\nimport { PushService } from '../../services/push_service';\nimport { Subscription } from 'rxjs';\n/**\n * Generated class for the ChooseplanPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-chooseplan',\n  templateUrl: 'chooseplan.html',\n})\nexport class ChooseplanPage {\n  tokendata: string;\n  conmessage\n  subscriptionArray = [];\n  subscriptionName\n  customer_id: string;\n  subscription_id: string;\n  subscriptionData: any;\n  back_sub_id: string;\n  customer_subscription_id\n  constructor(private nav: NavController,\n    public navParams: NavParams,\n    private apiService: APIService,\n    private push: PushService,\n    private util: UtilService,\n    private translate: TranslateService,\n    private storage: Storage,\n    private sanitizer: DomSanitizer,\n    public platform: Platform,\n    public viewCtrl: ViewController,\n    private ionicApp: IonicApp,\n    public atrCtrl: AlertController\n  ) {\n    this.subscription_id = navParams.get('subscription_id');\n    this.initializeBackButtonCustomHandler();\n  }\n  unregisterBackButtonAction;\n  public initializeBackButtonCustomHandler(): void {\n    this.unregisterBackButtonAction = this.platform.registerBackButtonAction(() => {\n      this.customHandleBackButton();\n    }, 10);\n  }\n  private customHandleBackButton(): void {\n    const overlayView = this.ionicApp._overlayPortal._views[0];\n    if (overlayView && overlayView.dismiss) {\n      overlayView.dismiss();// it will close the modals, alerts\n    } else {\n      this.back();\n    }\n  }\n  ngOnInit() {\n\n    localStorage.setItem('renewrotistringdinner','');\n    localStorage.setItem('renewrotistringlunch','');\n    this.tokendata = localStorage.getItem('token');\n    this.customer_id = localStorage.getItem('id');\n    this.loadSubscriptionData();\n    if (localStorage.getItem('subscription_id') != null) {\n      this.nav.setRoot('MealtypePage');\n    }\n  }\n  image;\n  image1\n  loadSubscriptionData() {\n    this.apiService.showSubscription().then((res) => {\n      if(res['success'])\n      {\n        this.subscriptionArray = res['data'];\n        for (var i = 0; i < this.subscriptionArray.length; i++) {\n          this.subscriptionArray[i]['subscription_content'] = this.sanitizer.bypassSecurityTrustHtml(this.subscriptionArray[i]['subscription_content'])\n          this.subscriptionArray[i]['subscription_sub_content'] = this.sanitizer.bypassSecurityTrustHtml(this.subscriptionArray[i]['subscription_sub_content'])\n        }\n\n        this.push.init(this.apiService.getSettings().pushwoosh_id);\n      }\n      else{\n        this.conmessage = res['message'];\n        this.showConfirmAlert();\n      }\n      \n    }).catch((res) => {\n      this.conmessage =\"Something's wrong, let's try again?\";\n\t\t\tthis.showConfirmAlert();\n    });\n  }\n\n  ionViewDidLoad() {\n  }\n  ionViewDidEnter() {\n    var asd = 'plan_' + this.subscription_id;\n  }\n  ngAfterViewInit() {\n  }\n  onClickSubscription(id) {\n    for (var i = 0; i < this.subscriptionArray.length; i++) {\n      if (id == this.subscriptionArray[i].subscription_id) {\n        this.subscriptionData = this.subscriptionArray[i];\n        localStorage.setItem('subscription_id', this.subscriptionData.subscription_id)\n        this.subscription_id = localStorage.getItem('subscription_id');\n        var type;\n        // if (i == 0) {\n        //   type = 'Trial Subscription';\n        // } else if (i == 1) {\n        //   type = '1 Month Subscription';\n        // } else if (i == 2) {\n        //   type = 'Half-Monthly Subscription';\n        // }\n        type = this.subscriptionData.subscription_name;\n        localStorage.setItem('subscription_type', type);\n      }\n    }\n    this.nav.setRoot('MealtypePage');\n  }\n\n  back() {\n    if (localStorage.getItem('isLogin') == \"login\") {\n      this.nav.setRoot('AboutyouPage');\n    }\n    else{\n      localStorage.removeItem('custstatus')\n      localStorage.removeItem('isLogin')\n      this.nav.setRoot('LoginPage');\n    }\n  }\n\n  async showConfirmAlert() {\n\t\tlet alertConfirm = this.atrCtrl.create({\n\t\t  //header: 'Download Successfully',\n\t\t  enableBackdropDismiss: false,\n\t\t  message: this.conmessage,\n\t\t  buttons: [\n\t\t\t{\n\t\t\t  text: \"Try again\",\n\t\t\t  handler: () => {\n\t\t\t\tthis.nav.setRoot('ChooseplanPage');\n\t\t\t  }\n\t\t\t  \n\t\t\t}\n\t\t  ]\n\t\t});\n\t\t(await alertConfirm).present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chooseplan/chooseplan.ts"],"sourceRoot":""}